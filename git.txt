# Git Cheatsheet

Git worktree with bare repository
mkdir <myproject>; cd myproject
git clone --bare <myproject> .bare
ln -s .bare .git
cd .bare
git worktree add ../<name> <distant_branch>
git worktree add ../<name> -b <new_branch> 
git worktree remove ../<name>
git worktree list

git config remote.origin.fetch "+refs/heads/*:refs/remotes/origin/*"

git rebase --onto <new_base> <old_base> <branch>

# Delete cache entries

gh api \
  -H "Accept: application/vnd.github+json" \
  /repos/OWNER/REPO/actions/caches \
  -q '.actions_caches[]
      | { id, last_accessed_at }
      | select(.last_accessed_at < "2022-11-02T00:00:00.000000000Z")
      | {id}
      | .[]' \
  --paginate | xargs -I {} \
  gh api \
    --method DELETE \
    -H "Accept: application/vnd.github.v3+json" \
    /repos/OWNER/REPO/actions/caches/{}
